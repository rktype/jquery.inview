/*!
 * jQuery inView plugin
 * 
 * Copyright Mirko Renzetti
 */
!function(i){i.fn.inview=function(o){function n(){for(var o=i(window).scrollTop(),n=o+i(window).innerHeight(),t=i(window).data("inView.globaList"),a=0;a<t.length;a++)for(var e=t[a].options,s=t[a].blockList,w=0;w<s.length;w++){var d=s[w],l=Math.max(o,d.top),r=Math.min(n,d.bottom),c=r-l;d.inView!==!0&&c/d.height>=e.viewFactor?(s[w].inView=!0,d.obj.addClass(d.obj.data("class-in")),d.obj.removeClass(d.obj.data("class-out")),"function"==typeof e.onEnter&&e.onEnter(d.obj)):d.inView!==!1&&0>=c&&(d.obj.data("class-out")||e.hold)&&(s[w].inView=!1,d.obj.addClass(d.obj.data("class-out")),d.obj.removeClass(d.obj.data("class-in")),"function"==typeof e.onLeave&&e.onLeave(d.obj))}}var t={viewFactor:.3,hold:!1,onEnter:function(){},onLeave:function(){}},a=i.extend(t,o),e=[];this.each(function(){var o=i(this),n={};n.top=o.offset().top,n.height=o.innerHeight(),n.bottom=n.top+n.height,n.obj=o,n.inView=null,e.push(n)});var s=i(window).data("inView.globaList")||[];s.push({options:a,blockList:e}),i(window).data("inView.globaList",s),i(window).data("inView.initialized")||(i(window).data("inView.initialized",!0),i(window).on({scroll:n,resize:n})),i(window).trigger("resize")}}(jQuery);